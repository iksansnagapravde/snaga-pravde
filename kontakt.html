<!DOCTYPE html>
<html lang="sr-Cyrl-RS">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Контакт — Иксан • Снага правде</title>
  <meta name="description" content="Контакт и подршка грађанима — пријавите неправду или затражите савет.">
  <meta name="theme-color" content="#020c1b">
  <meta name="color-scheme" content="light">
  <link rel="icon" href="uspeh.webp" type="image/webp">

  <style>
    :root{ --deepBlue:#020c1b; --gold:#d3a451; --radius:16px; --ink:#cfe1ff; }
    *{ box-sizing:border-box; margin:0; padding:0 }
    html,body{ height:100% }
    body{
      background:var(--deepBlue); color:#fff; font-family:"Times New Roman",serif;
      line-height:1.7; -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
      font-size:110%;
    }
    a{ color:inherit; text-decoration:none }
    img{ max-width:100%; display:block }
    .container{ max-width:1150px; margin:0 auto; padding:0 20px }

    header{
      position:sticky; top:0; z-index:100; background:var(--deepBlue);
      border-bottom:1px solid rgba(255,255,255,.1);
    }
    .head{ display:flex; align-items:center; justify-content:space-between; padding:4px 0 0; gap:12px; flex-wrap:nowrap; }
    .brand{ display:flex; align-items:center; flex-shrink:0; }
    .brand img{ height:161px; border-radius:10px }
    @media (max-width:768px){
      .brand{ justify-content:center; margin:0 auto; }
      .brand img{ height:106px }
    }

    nav.nav{ display:flex; flex-direction:row; align-items:center; gap:10px; padding-top:0; padding-right:8px; }
    .nav a.nav-link, .menu-btn{
      background:var(--deepBlue); color:#fff; padding:6px 9px; border-radius:8px;
      border:1px solid rgba(255,255,255,.2); font-weight:600; font-size:0.9rem; line-height:1;
      transition:transform .15s ease, filter .15s ease; white-space:nowrap;
    }
    .nav a.nav-link:hover, .menu-btn:hover{ transform:translateY(-1px); filter:brightness(1.2) }
    .nav a[aria-current="page"]{ outline:2px solid var(--gold); outline-offset:2px }

    .menu{ position:relative }
    .dropdown{
      position:absolute; top:calc(100% + 8px); right:0; background:var(--deepBlue);
      border:1px solid rgba(255,255,255,.2); border-radius:12px; min-width:300px; padding:6px;
      box-shadow:0 10px 24px rgba(0,0,0,.5); display:none;
    }
    .menu.open .dropdown{ display:block }
    @media (hover:hover){ .menu:hover .dropdown{ display:block } }
    .dropdown a{
      display:block; padding:9px 10px; border-radius:8px; color:#fff; font-weight:600; font-size:14px;
      white-space:nowrap; border:1px solid transparent;
    }
    .dropdown a:hover{ background:rgba(255,255,255,.06); border-color:rgba(255,255,255,.16) }

    .hero{ padding:24px 0 0 }
    h1{
      text-align:center; color:#fff; margin-top:8px; line-height:1.2; font-weight:600;
      font-size:clamp(23px,3vw,33px); text-shadow:0 0 8px rgba(255,255,255,.25);
    }
    p.sub{
      text-align:center; color:var(--ink); opacity:.95; font-size:clamp(16px,2vw,18px);
      margin:8px auto 12px; max-width:740px;
    }

    .cta-row{ display:flex; justify-content:center; flex-wrap:nowrap; gap:8px; margin:14px 0 18px; }
    .btn{
      display:inline-block; padding:8px 18px; border-radius:40px; border:none; font-weight:700;
      font-size:13px; letter-spacing:.3px; text-transform:uppercase; transition:transform .2s, box-shadow .2s;
      cursor:pointer; text-align:center; box-shadow:0 3px 0 rgba(0,0,0,.4), 0 6px 18px rgba(0,0,0,.4); white-space:nowrap;
    }
    .btn-primary{ background:var(--gold); color:var(--deepBlue) }
    .btn-dark{ background:var(--deepBlue); color:#fff; border:1px solid rgba(255,255,255,.3) }
    .btn:hover{ transform:translateY(-2px) }
    @media(max-width:768px){ .cta-row{ justify-content:center; gap:6px } .btn{ padding:7px 14px; font-size:12px } }

    .contact-wrap{ padding:0 0 12px }
    .contact-card{
      background:var(--deepBlue); border:1px solid rgba(255,255,255,.2); border-radius:var(--radius);
      padding:16px; box-shadow:0 14px 32px rgba(0,0,0,.35); color:#fff; max-width:760px; margin:0 auto;
    }
    .contact-card h2{
      text-align:center; color:#ffffff; font-size:clamp(20px,2.6vw,24px); font-weight:700; margin:0 0 10px; text-shadow:none;
    }
    form{ display:grid; gap:12px }
    label{ font-weight:700; color:#fff }
    input, textarea{
      width:100%; padding:12px 14px; border-radius:10px; border:1px solid rgba(255,255,255,.25);
      background:rgba(255,255,255,.08); color:#fff; font-size:16px;
    }
    input::placeholder, textarea::placeholder{ color:rgba(255,255,255,.55) }
    textarea{ min-height:120px; resize:vertical }
    .submit{
      background:var(--gold); color:var(--deepBlue); font-weight:700; padding:10px 0; border-radius:30px; cursor:pointer;
      transition:transform .2s, box-shadow .2s; border:none; box-shadow:0 3px 0 rgba(0,0,0,.4), 0 6px 18px rgba(0,0,0,.4);
    }
    .submit:hover{ transform:translateY(-2px) }

    footer{
      border-top:1px solid rgba(255,255,255,.15); color:#fff; text-align:center; padding:24px 0; font-size:.9rem;
      margin-top:30px; background:var(--deepBlue);
    }

    @media (max-width:768px){
      body{ font-size:90% }
      .head{ justify-content:center; flex-wrap:wrap; padding:2px 0 0; }
      nav.nav{ margin-top:4px; justify-content:center; gap:8px; padding-right:0; }
      .menu-btn{ margin-right:6px; }
    }
    @media (max-width:360px){
      .nav a.nav-link, .menu-btn{ font-size:0.8rem; padding:4px 6px }
      nav.nav{ gap:4px }
    }
  </style>
</head>

<body>
<header>
  <div class="container head">
    <div class="brand">
      <a href="index.html"><img src="uspeh.webp" alt="ИКСАН лого"></a>
    </div>
    <nav class="nav" aria-label="Главна навигација">
      <a class="nav-link" href="index.html">Почетна</a>
      <a class="nav-link" href="kontakt.html" aria-current="page">Контакт</a>
      <div class="menu" id="mainMenu">
        <button class="menu-btn" type="button" aria-haspopup="true" aria-expanded="false" aria-controls="menuList">Мени ▾</button>
        <div class="dropdown" id="menuList" role="menu">
          <a href="onama.html">О нама</a>
          <a href="oblasti.html">Области</a>
          <a href="ciljevi.html">Циљеви</a>
          <a href="inicijative.html">Иницијативе</a>
          <a href="doniraj.html">Донирај</a>
          <a href="prikljucise.html">Прикључи се</a>
          <a href="prijavi.html">Пријави</a>
          <a href="ukidanjeizvrsitelja.html">Укидање приватних извршитеља</a>
          <a href="porekloimovine.html">Порекло имовине — на сунце</a>
          <a href="sudpravda.html">Суд народу, не моћнима</a>
          <a href="radnicipreduzetnici.html">Радници и предузетници</a>
        </div>
      </div>
    </nav>
  </div>
</header>

<main>
  <section class="hero">
    <div class="container">
      <h1>Контакт и подршка грађанима</h1>
      <p class="sub">Пријавите неправду или затражите савет — заједно чувамо правду.</p>
      <div class="cta-row">
        <a href="prikljucise.html" class="btn btn-dark">ПРИКЉУЧИ СЕ</a>
        <a href="prijavi.html" class="btn btn-dark">ПРИЈАВИ</a>
        <a href="doniraj.html" class="btn btn-primary">ДОНИРАЈ</a>
      </div>
    </div>
  </section>

  <section class="contact-wrap">
    <div class="container">
      <article class="contact-card">
        <h2>Контакт форма</h2>
        <form id="kontakt-form" novalidate>
          <label for="ime">Име и презиме</label>
          <input type="text" id="ime" name="ime" required placeholder="Унесите ваше име" autocomplete="name">
          <label for="email">Е-пошта</label>
          <input type="email" id="email" name="email" required placeholder="Унесите вашу е-пошту" autocomplete="email">
          <label for="poruka">Порука / Опис случаја</label>
          <textarea id="poruka" name="poruka" required placeholder="Опишите ваш случај или питање"></textarea>
          <!-- honeypot -->
          <input type="text" name="website" tabindex="-1" autocomplete="off" style="display:none">
          <button type="submit" class="submit">Пошаљи</button>
          <p id="status" aria-live="polite" style="margin-top:8px;color:#cfe1ff"></p>
        </form>
      </article>
    </div>
  </section>
</main>

<footer>
  <div class="container">© 2025 Иксан • Снага правде — Сва права задржана.</div>
</footer>

<script>
  // --- Dropdown meni ---
  const menu = document.getElementById('mainMenu');
  const menuBtn = menu.querySelector('.menu-btn');
  menuBtn.addEventListener('click', () => {
    const isOpen = menu.classList.toggle('open');
    menuBtn.setAttribute('aria-expanded', isOpen ? 'true' : 'false');
  });
  document.addEventListener('click', (e) => {
    if (!menu.contains(e.target)) {
      menu.classList.remove('open');
      menuBtn.setAttribute('aria-expanded','false');
    }
  });
  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      menu.classList.remove('open');
      menuBtn.setAttribute('aria-expanded','false');
      menuBtn.focus();
    }
  });

  // --- KONTAKT FORMA: slanje na Google Apps Script (JSON + CORS) ---
  const ENDPOINT = 'https://script.google.com/macros/s/AKfycby6ZUiBMWq3NyoUSeh8NPk_OhuhmJ7dtSPTVbVMX1-EIwRYN1jPUbru_4FQ5ypmtM4WMg/exec';
  const form = document.getElementById('kontakt-form');
  const status = document.getElementById('status');
  const submitBtn = form.querySelector('.submit');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    // honeypot: ako je popunjen, prekini
    const hp = form.querySelector('input[name="website"]');
    if (hp && hp.value.trim() !== '') return;

    const ime = form.ime.value.trim();
    const email = form.email.value.trim();
    const poruka = form.poruka.value.trim();

    if (!ime || !email || !poruka) {
      status.textContent = '⚠️ Попуните сва поља.';
      return;
    }

    // UI lock
    submitBtn.disabled = true;
    submitBtn.style.opacity = .7;
    status.textContent = 'Шаљем поруку…';

    try {
      const res = await fetch(ENDPOINT, {
        method: 'POST',
        mode: 'cors',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ ime, email, poruka })
      });

      // očekujemo JSON { ok: true } sa CORS headerom
      const json = await res.json();

      if (json && json.ok) {
        form.reset();
        window.location.href = 'hvala.html';
      } else {
        status.textContent = '⚠️ Грешка: ' + (json?.error || 'Покушајте касније.');
      }
    } catch (err) {
      status.textContent = '❌ Грешка у мрежи. Покушајте поново.';
      console.error(err);
    } finally {
      submitBtn.disabled = false;
      submitBtn.style.opacity = 1;
    }
  });
</script>
</body>
</html>
